{% extends "base.html" %}

{% block content %}
<div class="archive-header">
  <h2>üìö Daily Archive</h2>
  <p>Browse through our collection of daily tech and cybersecurity news.</p>
</div>

{% if pages %}
<nav class="archive">
  {% for page in pages %}
  <a href="./{{ page }}.html">{{ page }}</a>
  {% endfor %}
</nav>

<hr />

<div class="latest-section">
  <h3>üöÄ Latest News</h3>
  <p>
    Most recent update: 
    <a href="./{{ pages[0] }}.html" class="latest-link">{{ pages[0] }}</a>
  </p>
  <p class="archive-stats">
    üìä Total daily pages: {{ pages|length }}
  </p>
</div>
{% else %}
<div class="no-pages">
  <h3>üîß Getting Started</h3>
  <p>No daily pages have been generated yet. To get started:</p>
  <ol>
    <li>Run the GitHub Action manually from the Actions tab</li>
    <li>Or wait for the daily automated run at 06:10 Asia/Tehran</li>
    <li>The first page will appear here once generated</li>
  </ol>
</div>
{% endif %}

<div class="info-section">
  <h3>‚ÑπÔ∏è About This Site</h3>
  <p>
    This site automatically aggregates the latest technology and cybersecurity news 
    from multiple RSS feeds. Each day, a new page is generated with the most recent 
    articles, sorted by publication time.
  </p>
  
  <details class="sources-details">
    <summary>üì° News Sources</summary>
    <div class="sources-grid">
      <div class="source-category">
        <h4>Technology</h4>
        <ul>
          <li>The Verge</li>
          <li>Ars Technica</li>
          <li>TechRadar</li>
          <li>Engadget</li>
          <li>TechCrunch</li>
          <li>WIRED</li>
          <li>Tom's Hardware</li>
          <li>9to5Mac</li>
        </ul>
      </div>
      <div class="source-category">
        <h4>Cybersecurity</h4>
        <ul>
          <li>Krebs on Security</li>
          <li>BleepingComputer</li>
          <li>Dark Reading</li>
          <li>Security Week</li>
          <li>The Hacker News</li>
          <li>Schneier on Security</li>
        </ul>
      </div>
    </div>
  </details>
</div>

<style>
.archive-header {
  text-align: center;
  margin-bottom: 32px;
}

.archive-header h2 {
  margin: 0 0 8px 0;
  font-size: clamp(24px, 3vw, 32px);
}

.archive-header p {
  color: var(--muted);
  margin: 0;
}

.latest-section {
  background: rgba(0, 255, 240, 0.05);
  padding: 20px;
  border-radius: 12px;
  border: 1px solid var(--border);
  margin: 24px 0;
}

.latest-section h3 {
  margin: 0 0 12px 0;
  color: var(--accent);
}

.latest-link {
  font-weight: 700;
  padding: 4px 8px;
  background: rgba(0, 255, 240, 0.1);
  border-radius: 6px;
}

.archive-stats {
  color: var(--muted);
  font-size: 14px;
  margin: 8px 0 0 0;
}

.no-pages {
  text-align: center;
  padding: 40px 20px;
  background: rgba(57, 255, 20, 0.05);
  border-radius: 12px;
  border: 1px solid var(--border);
}

.no-pages h3 {
  color: var(--accent2);
  margin: 0 0 16px 0;
}

.no-pages ol {
  text-align: left;
  display: inline-block;
  color: var(--muted);
}

.info-section {
  margin-top: 32px;
  padding: 24px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid var(--border);
}

.info-section h3 {
  margin: 0 0 16px 0;
  color: var(--accent);
}

.sources-details {
  margin-top: 20px;
}

.sources-details summary {
  cursor: pointer;
  padding: 8px 0;
  color: var(--accent2);
  font-weight: 600;
}

.sources-details summary:hover {
  color: var(--accent);
}

.sources-grid {
  display: grid;
  gap: 24px;
  margin-top: 16px;
}

@media (min-width: 768px) {
  .sources-grid {
    grid-template-columns: 1fr 1fr;
  }
}

.source-category h4 {
  color: var(--accent2);
  margin: 0 0 12px 0;
  font-size: 16px;
}

.source-category ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.source-category li {
  padding: 4px 0;
  color: var(--muted);
  font-size: 14px;
}

.source-category li::before {
  content: "‚Üí ";
  color: var(--accent);
  margin-right: 8px;
}
</style>
{% endblock %}

{% extends "base.html" %}

{% block content %}
<div class="day-header">
  <h2>📰 News for {{ day_title }}</h2>
  <div class="stats">
    {{ items|length }} articles found
  </div>
</div>

<div class="grid">
  {% for item in items %}
  <article class="item">
    <h3>
      <a href="{{ item.link }}" target="_blank" rel="noopener noreferrer">
        {{ item.title }}
      </a>
    </h3>
    
    {% if item.summary %}
    <p class="summary">{{ item.summary }}</p>
    {% endif %}
    
    <div class="meta">
      {% if item.source %}
      <span class="source">📡 {{ item.source }}</span>
      {% endif %}
      
      {% if item.published %}
      <span class="time">🕒 {{ item.published.strftime("%H:%M") }}</span>
      {% endif %}
    </div>
  </article>
  {% else %}
  <div class="no-news">
    <h3>🔍 No news found for today</h3>
    <p>Check back later or try running the aggregation script manually.</p>
  </div>
  {% endfor %}
</div>

{% if items %}
<div class="footer-stats">
  <p>Last updated: {{ items[0].published.strftime("%Y-%m-%d %H:%M %Z") if items else "Unknown" }}</p>
</div>
{% endif %}
{% endblock %}
